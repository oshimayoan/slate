---
title: Vospay API Doc v0.1.5
language_tabs:
  - nodejs: JavaScript
toc_footers: []
includes: []
search: true
highlight_theme: darkula
headingLevel: 2

---

<h1 id="Vospay-API-Doc">Vospay API Doc v0.1.5</h1>

> Scroll down for code samples, example requests and responses. Select a language for code samples from the tabs above or the mobile navigation menu.

Vospay API documentation using swagger 3.0.0

Base URLs:

* <a href="https://api-staging.vospay.id/api/v2">https://api-staging.vospay.id/api/v2</a>

# Authentication

- HTTP Authentication, scheme: bearer A generated JWT access token by `/authentication` endpoint

<h1 id="Vospay-API-Doc-Token">Token</h1>

## createAccessToken

<a id="opIdcreateAccessToken"></a>

> Code samples

```nodejs
const request = require('node-fetch');
const inputBody = '{
  "strategy": "otp",
  "phone": "08118289855",
  "code": "1234"
}';
const headers = {
  'Content-Type':'application/json',
  'Accept':'application/json'

};

fetch('https://api-staging.vospay.id/api/v2/authentication',
{
  method: 'POST',
  body: inputBody,
  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

`POST /authentication`

*Create access token to access some protected endpoints*

Use this endpoint to verify every otp and get new accessToken

> Body parameter

```json
{
  "strategy": "otp",
  "phone": "08118289855",
  "code": "1234"
}
```

<h3 id="createAccessToken-parameters">Parameters</h3>

|Parameter|In|Type|Required|Description|
|---|---|---|---|---|
|body|body|object|true|No description|
|» strategy|body|string|true|No description|
|» phone|body|string|true|No description|
|» code|body|string|false|No description|

> Example responses

```json
{
  "accessToken": "j91usej1ju983s1uen93du9e.ue9s831ue8913_EXAMPLE_uj38esu983eu98r.jf92ur982j3u8922932su392nc9j2e9"
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "data": {
    "message": "string"
  },
  "errors": {}
}
```

<h3 id="createAccessToken-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|201|[Created](https://tools.ietf.org/html/rfc7231#section-6.3.2)|OK response|Inline|
|400|[Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)|Response when phone number or otp is not provided|Inline|

<h3 id="createAccessToken-responseschema">Response Schema</h3>

Status Code **201**

|Name|Type|Required|Description|
|---|---|---|---|
|» accessToken|string|true|A JWT access token generated by the server to authenticate user action|

Status Code **400**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» data|object|false|No description|
|»» message|string|false|No description|
|» errors|object|false|No description|

<aside class="success">
This operation does not require authentication
</aside>

<h1 id="Vospay-API-Doc-OTP">OTP</h1>

## sendOTP

<a id="opIdsendOTP"></a>

> Code samples

```nodejs
const request = require('node-fetch');

const headers = {
  'Accept':'application/json'

};

fetch('https://api-staging.vospay.id/api/v2/otp/{phoneNumber}',
{
  method: 'GET',

  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

`GET /otp/{phoneNumber}`

*Trigger backend to resend otp*

Use this endpoint to trigger the backend for resend the otp to a user

<h3 id="sendOTP-parameters">Parameters</h3>

|Parameter|In|Type|Required|Description|
|---|---|---|---|---|
|phoneNumber|path|string|true|User's phone number|

> Example responses

```json
{
  "message": "Success"
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "data": {},
  "errors": {}
}
```

<h3 id="sendOTP-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|Backend successfuly resend the otp|Inline|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|Response when phone number is not found or invalid|Inline|

<h3 id="sendOTP-responseschema">Response Schema</h3>

Status Code **200**

|Name|Type|Required|Description|
|---|---|---|---|
|» message|string|false|No description|

Status Code **500**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» data|object|false|No description|
|» errors|object|false|No description|

<aside class="success">
This operation does not require authentication
</aside>

<h1 id="Vospay-API-Doc-Activation">Activation</h1>

## activateNewVospayNumber

<a id="opIdactivateNewVospayNumber"></a>

> Code samples

```nodejs
const request = require('node-fetch');
const inputBody = '{
  "mfcID": "234",
  "nik": "6308044810820001",
  "phone": "08118289855",
  "dateOfBirth": "1988-10-02"
}';
const headers = {
  'Content-Type':'application/json',
  'Accept':'application/json',
  'Authorization':'JWT <<accessToken>>'

};

fetch('https://api-staging.vospay.id/api/v2/activation',
{
  method: 'POST',
  body: inputBody,
  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

`POST /activation`

*Post user's data to generate and activate account number*

Use this endpoint when user submit their data on activation process

> Body parameter

```json
{
  "mfcID": "234",
  "nik": "6308044810820001",
  "phone": "08118289855",
  "dateOfBirth": "1988-10-02"
}
```

<h3 id="activateNewVospayNumber-parameters">Parameters</h3>

|Parameter|In|Type|Required|Description|
|---|---|---|---|---|
|Authorization|header|string|true|A generated JWT access token by `/authentication` endpoint|
|body|body|object|true|No description|
|» mfcID|body|string|true|MFC's ID that sent the activation link to user|
|» nik|body|string|true|User's KTP number / NIK (Country ID card)|
|» phone|body|string|true|User's phone number|
|» dateOfBirth|body|string|true|User's date of birth|

> Example responses

```json
{
  "vospayNumber": "2340010000000002"
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "errors": {}
}
```

<h3 id="activateNewVospayNumber-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|201|[Created](https://tools.ietf.org/html/rfc7231#section-6.3.2)|OK response|Inline|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|Response when Content-Type is not provided on request header or required request body is not provided|Inline|

<h3 id="activateNewVospayNumber-responseschema">Response Schema</h3>

Status Code **201**

|Name|Type|Required|Description|
|---|---|---|---|
|» vospayNumber|string|false|Auto generated vospay account number|

Status Code **500**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» errors|object|false|No description|

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
accessToken
</aside>

<h1 id="Vospay-API-Doc-Registration">Registration</h1>

## registerNewUser

<a id="opIdregisterNewUser"></a>

> Code samples

```nodejs
const request = require('node-fetch');
const inputBody = '{
  "vospayNumber": "2340010000000002",
  "email": "john@doe.com",
  "password": "abcd1234"
}';
const headers = {
  'Content-Type':'application/json',
  'Accept':'application/json',
  'Authorization':'JWT <<accessToken>>'

};

fetch('https://api-staging.vospay.id/api/v2/registration',
{
  method: 'PATCH',
  body: inputBody,
  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

`PATCH /registration`

*Post user's registration data*

Use this endpoint to send registrant data when register submit is clicked

> Body parameter

```json
{
  "vospayNumber": "2340010000000002",
  "email": "john@doe.com",
  "password": "abcd1234"
}
```

<h3 id="registerNewUser-parameters">Parameters</h3>

|Parameter|In|Type|Required|Description|
|---|---|---|---|---|
|Authorization|header|string|true|A generated JWT access token by `/authentication` endpoint|
|body|body|any|true|No description|

> Example responses

```json
{
  "message": "Success"
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "errors": {}
}
```

<h3 id="registerNewUser-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|Backend successfuly store registrant data to database|Inline|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|Response when vospay account number is not provided or not found|Inline|

<h3 id="registerNewUser-responseschema">Response Schema</h3>

Status Code **200**

|Name|Type|Required|Description|
|---|---|---|---|
|» message|string|false|No description|

Status Code **404**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» errors|object|false|No description|

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
accessToken
</aside>

<h1 id="Vospay-API-Doc-Accounts">Accounts</h1>

## fetchAccountList

<a id="opIdfetchAccountList"></a>

> Code samples

```nodejs
const request = require('node-fetch');

const headers = {
  'Accept':'application/json',
  'Authorization':'JWT <<accessToken>>'

};

fetch('https://api-staging.vospay.id/api/v2/accounts?phone={phone}?phone=08118289855?phone=08118289855',
{
  method: 'GET',

  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

`GET /accounts?phone={phone}`

*Fetch all accounts using phone number*

This endpoint is for fetching all vospay accounts that certain phone number has. By default backend return list of existing accounts and send OTP if account isActived=true.

<h3 id="fetchAccountList-parameters">Parameters</h3>

|Parameter|In|Type|Required|Description|
|---|---|---|---|---|
|phone|query|string|true|User's phone number|
|Authorization|header|string|true|A generated JWT access token by `/authentication` endpoint|

> Example responses

```json
{
  "vospayNumbers": [
    {
      "vospayNumber": "2340010000000001",
      "mfcLogo": "https://vospay.id/mfcLogo.png"
    },
    {
      "vospayNumber": "2340010000000002",
      "mfcLogo": "https://vospay.id/mfcLogo.png"
    },
    {
      "vospayNumber": "2340010000000003",
      "mfcLogo": "https://vospay.id/mfcLogo.png"
    },
    {
      "vospayNumber": "2340010000000004",
      "mfcLogo": "https://vospay.id/mfcLogo.png"
    }
  ]
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "errors": {}
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "data": {},
  "errors": {}
}
```

<h3 id="fetchAccountList-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|OK response|Inline|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|Response when vospay account number is not found|Inline|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|Response when phone number is not provided or not found|Inline|

<h3 id="fetchAccountList-responseschema">Response Schema</h3>

Status Code **200**

|Name|Type|Required|Description|
|---|---|---|---|
|» vospayNumbers|[object]|false|Array of vospay account numbers that one phone number had.|
|»» vospayNumber|string|false|Vospay account number|
|»» mfcLogo|string(uri)|false|URL of multifinance logo|

Status Code **404**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» errors|object|false|No description|

Status Code **500**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» data|object|false|No description|
|» errors|object|false|No description|

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
accessToken
</aside>

<h1 id="Vospay-API-Doc-Transaction">Transaction</h1>

## fetchInstallmentPlans

<a id="opIdfetchInstallmentPlans"></a>

> Code samples

```nodejs
const request = require('node-fetch');

const headers = {
  'Accept':'application/json',
  'Authorization':'JWT <<accessToken>>'

};

fetch('https://api-staging.vospay.id/api/v2/checkout/{vospayNumber}?merchantID={merchantID}?merchantID=1?merchantID=1',
{
  method: 'GET',

  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

`GET /checkout/{vospayNumber}?merchantID={merchantID}`

*Fetch installment plans given by the multifinance*

<h3 id="fetchInstallmentPlans-parameters">Parameters</h3>

|Parameter|In|Type|Required|Description|
|---|---|---|---|---|
|vospayNumber|path|string|true|User's selected vospay number|
|merchantID|query|string|true|Assigned ID of the merchant, get this ID from merchantKey in SDK payNow()|
|Authorization|header|string|true|A generated JWT access token by `/authentication` endpoint|

> Example responses

```json
{
  "merchantLogo": "https://vospay.id/merchantLogo.png",
  "mfcLogo": "https://vospay.id/mfcLogo.png",
  "fullName": "Dominggus Sirius Octovianus",
  "installments": [
    {
      "installmentID": "1",
      "period": 3,
      "monthlyPayment": 58333
    },
    {
      "installmentID": "2",
      "period": 6,
      "monthlyPayment": 27083
    },
    {
      "installmentID": "3",
      "period": 9,
      "monthlyPayment": 16667
    },
    {
      "installmentID": "4",
      "period": 12,
      "monthlyPayment": 11458
    }
  ]
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "data": {},
  "errors": {}
}
```

<h3 id="fetchInstallmentPlans-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|OK response|Inline|
|401|[Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)|Response when access token is not provided as Authorization on request header|Inline|

<h3 id="fetchInstallmentPlans-responseschema">Response Schema</h3>

Status Code **200**

|Name|Type|Required|Description|
|---|---|---|---|
|» merchantLogo|string(uri)|false|No description|
|» mfcLogo|string(uri)|false|No description|
|» fullName|string|false|No description|
|» installments|[object]|false|No description|
|»» installmentID|string|false|No description|
|»» period|number|false|No description|
|»» monthlyPayment|number|false|No description|

Status Code **401**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» data|object|false|No description|
|» errors|object|false|No description|

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
accessToken
</aside>

## finalizeTransaction

<a id="opIdfinalizeTransaction"></a>

> Code samples

```nodejs
const request = require('node-fetch');
const inputBody = '{
  "vospayNumber": "2340010000000001",
  "merchantID": 1,
  "orderID": "B0001",
  "items": [
    {
      "name": "Product A",
      "quantity": 2,
      "price": 10000
    },
    {
      "name": "Product B",
      "quantity": 1,
      "price": 5000
    }
  ],
  "shippingCost": 5000,
  "insuranceCost": 1000,
  "processingFee": 2500,
  "tax": 0,
  "status": "Pending",
  "installmentID": 1
}';
const headers = {
  'Content-Type':'application/json',
  'Accept':'application/json',
  'Authorization':'JWT <<accessToken>>'

};

fetch('https://api-staging.vospay.id/api/v2/checkout',
{
  method: 'POST',
  body: inputBody,
  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

`POST /checkout`

*Post transaction data*

Use this endpoint to send transaction detail on submit a checkout

> Body parameter

```json
{
  "vospayNumber": "2340010000000001",
  "merchantID": 1,
  "orderID": "B0001",
  "items": [
    {
      "name": "Product A",
      "quantity": 2,
      "price": 10000
    },
    {
      "name": "Product B",
      "quantity": 1,
      "price": 5000
    }
  ],
  "shippingCost": 5000,
  "insuranceCost": 1000,
  "processingFee": 2500,
  "tax": 0,
  "status": "Pending",
  "installmentID": 1
}
```

<h3 id="finalizeTransaction-parameters">Parameters</h3>

|Parameter|In|Type|Required|Description|
|---|---|---|---|---|
|Authorization|header|string|true|A generated JWT access token by `/authentication` endpoint|
|body|body|object|true|No description|
|» vospayNumber|body|string|true|Vospay account number that used for transaction|
|» merchantID|body|string|true|Merchant ID where transaction happens|
|» orderID|body|string|true|Order ID from the merchant|
|» items|body|[object]|true|List of purchased items|
|»» name|body|string|false|Name of purchased item|
|»» quantity|body|string|false|Quantity of purchased item|
|»» price|body|number|false|Total price of purchased item|
|» shippingCost|body|number|true|Shipping cost from transaction|
|» insuranceCost|body|number|false|Insurance cost from transaction|
|» processingFee|body|number|false|Additional fees from transaction (if there is)|
|» tax|body|number|false|Tax or custom fee (e.g bea cukai) (if there is)|
|» status|body|string|false|Status to tell backend about the transaction|
|» installmentID|body|string|true|ID of selected installment plan for the transaction|

#### Enumerated Values

|Parameter|Value|
|---|---|
|» status|Pending|
|» status|Approved|
|» status|Fulfilled|
|» status|Edit/Cancelled|
|» status|Settled|
|» status|Refunded|

> Example responses

```json
{
  "message": "Success"
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "data": {},
  "errors": {}
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "data": {},
  "errors": {}
}
```

<h3 id="finalizeTransaction-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|OK response|Inline|
|401|[Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)|Response when access token is not provided as Authorization on request header|Inline|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|Response when Content-Type is not provided on request header or required request body not provided|Inline|

<h3 id="finalizeTransaction-responseschema">Response Schema</h3>

Status Code **200**

|Name|Type|Required|Description|
|---|---|---|---|
|» message|string|false|No description|

Status Code **401**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» data|object|false|No description|
|» errors|object|false|No description|

Status Code **500**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» data|object|false|No description|
|» errors|object|false|No description|

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
accessToken
</aside>

## verifyTransaction

<a id="opIdverifyTransaction"></a>

> Code samples

```nodejs
const request = require('node-fetch');
const inputBody = '{
  "transactionID": "12ux0912examplej309128js01",
  "orderID": "01441-EXAMPLE-7615",
  "currency": "IDR",
  "grossAmount": 49500
}';
const headers = {
  'Content-Type':'application/json',
  'Accept':'application/json'

};

fetch('https://api-staging.vospay.id/api/v2/verify-transaction',
{
  method: 'POST',
  body: inputBody,
  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

`POST /verify-transaction`

*Verify transaction ID and order details*

Use this endpoint verify the transaction ID and order details with VOSPAY to ensure the integrity of the result received by the JavaScript callback

> Body parameter

```json
{
  "transactionID": "12ux0912examplej309128js01",
  "orderID": "01441-EXAMPLE-7615",
  "currency": "IDR",
  "grossAmount": 49500
}
```

<h3 id="verifyTransaction-parameters">Parameters</h3>

|Parameter|In|Type|Required|Description|
|---|---|---|---|---|
|body|body|object|true|No description|
|» transactionID|body|string|true|This is obtained from the TransactionResult|
|» orderID|body|string|true|A unique (per merchant) identifier for this order|
|» currency|body|string|true|Used currency for the transaction|
|» grossAmount|body|number|true|The total amount of the order|

> Example responses

```json
{
  "status": "Valid",
  "timestamp": "2018-04-25T07:35:16.891Z"
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "errors": {}
}
```

<h3 id="verifyTransaction-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|OK response|Inline|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|Response when Content-Type is not provided on request header or required request body is not provided|Inline|

<h3 id="verifyTransaction-responseschema">Response Schema</h3>

Status Code **200**

|Name|Type|Required|Description|
|---|---|---|---|
|» status|string|false|Status of the transaction|
|» timestamp|string|false|The date and time the transaction was processed in ISO 8601 format. This will not be present if the status is not "Valid".|

Status Code **500**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» errors|object|false|No description|

<aside class="success">
This operation does not require authentication
</aside>

# Schemas

<h2 id="tocSregister">Register</h2>

<a id="schemaregister"></a>

```json
{
  "vospayNumber": "2340010000000002",
  "email": "john@doe.com",
  "password": "abcd1234"
}
```

### Properties

|Name|Type|Required|Description|
|---|---|---|---|
|vospayNumber|string|true|Registrant vospay account number|
|email|string(email)|false|Registrant email|
|password|string|true|Registrant access code|

<h2 id="tocSregisterfb">RegisterFB</h2>

<a id="schemaregisterfb"></a>

```json
{
  "vospayNumber": "2340010000000002",
  "facebookAccount": "john@doe.com"
}
```

### Properties

|Name|Type|Required|Description|
|---|---|---|---|
|vospayNumber|string|true|Registrant vospay account number|
|facebookAccount|string(email)|true|Registrant facebook email if registrant registering with facebook account|

