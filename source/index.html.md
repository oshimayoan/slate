---
title: Vospay API Doc v0.1.7
language_tabs:
  - nodejs: JavaScript
toc_footers: []
includes: []
search: true
highlight_theme: darkula
headingLevel: 2

---

<h1 id="Vospay-API-Doc">Vospay API Doc v0.1.7</h1>

> Scroll down for code samples, example requests and responses. Select a language for code samples from the tabs above or the mobile navigation menu.

Vospay API documentation using swagger 3.0.0

Base URLs:

* <a href="https://api-staging.vospay.id/api/v2">https://api-staging.vospay.id/api/v2</a>

# Authentication

- HTTP Authentication, scheme: bearer A generated JWT access token by `/authentication` endpoint

<h1 id="Vospay-API-Doc-Token">Token</h1>

## createAccessToken

<a id="opIdcreateAccessToken"></a>

> Code samples

```nodejs
const request = require('node-fetch');
const inputBody = '{
  "strategy": "otp",
  "phone": "08118289855",
  "code": "1234"
}';
const headers = {
  'Content-Type':'application/json',
  'Accept':'application/json'

};

fetch('https://api-staging.vospay.id/api/v2/authentication',
{
  method: 'POST',
  body: inputBody,
  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

`POST /authentication`

*Create access token to access some protected endpoints*

Use this endpoint to verify every otp and get new accessToken. An accessToken consists userID inside it.

> Body parameter

```json
{
  "strategy": "otp",
  "phone": "08118289855",
  "code": "1234"
}
```

<h3 id="createAccessToken-parameters">Parameters</h3>

|Parameter|In|Type|Required|Description|
|---|---|---|---|---|
|body|body|any|true|No description|

> Example responses

```json
{
  "accessToken": "j91usej1ju983s1uen93du9e.ue9s831ue8913_EXAMPLE_uj38esu983eu98r.jf92ur982j3u8922932su392nc9j2e9"
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "data": {
    "message": "string"
  },
  "errors": {}
}
```

<h3 id="createAccessToken-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|201|[Created](https://tools.ietf.org/html/rfc7231#section-6.3.2)|OK response|Inline|
|400|[Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)|Response when phone number or otp is not provided|Inline|

<h3 id="createAccessToken-responseschema">Response Schema</h3>

Status Code **201**

|Name|Type|Required|Description|
|---|---|---|---|
|» accessToken|string|true|A JWT access token generated by the server to authenticate user action|

Status Code **400**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» data|object|false|No description|
|»» message|string|false|No description|
|» errors|object|false|No description|

<aside class="success">
This operation does not require authentication
</aside>

<h1 id="Vospay-API-Doc-OTP">OTP</h1>

## sendOTP

<a id="opIdsendOTP"></a>

> Code samples

```nodejs
const request = require('node-fetch');

const headers = {
  'Accept':'application/json'

};

fetch('https://api-staging.vospay.id/api/v2/otp/{phoneNumber}',
{
  method: 'GET',

  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

`GET /otp/{phoneNumber}`

*Trigger backend to resend otp*

Use this endpoint to trigger the backend for send the otp to a user.

<h3 id="sendOTP-parameters">Parameters</h3>

|Parameter|In|Type|Required|Description|
|---|---|---|---|---|
|phoneNumber|path|string|true|User's phone number|

> Example responses

```json
{
  "message": "Success"
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "data": {},
  "errors": {}
}
```

<h3 id="sendOTP-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|Backend successfuly resend the otp|Inline|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|Response when phone number is not found or invalid|Inline|

<h3 id="sendOTP-responseschema">Response Schema</h3>

Status Code **200**

|Name|Type|Required|Description|
|---|---|---|---|
|» message|string|false|No description|

Status Code **500**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» data|object|false|No description|
|» errors|object|false|No description|

<aside class="success">
This operation does not require authentication
</aside>

<h1 id="Vospay-API-Doc-Activation">Activation</h1>

## activateNewVospayNumber

<a id="opIdactivateNewVospayNumber"></a>

> Code samples

```nodejs
const request = require('node-fetch');
const inputBody = '{
  "mfcID": "234",
  "nik": "6308044810820001",
  "phone": "08118289855",
  "dateOfBirth": "1988-10-02"
}';
const headers = {
  'Content-Type':'application/json',
  'Accept':'application/json',
  'Authorization':'JWT <<accessToken>>'

};

fetch('https://api-staging.vospay.id/api/v2/activation',
{
  method: 'POST',
  body: inputBody,
  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

`POST /activation`

*Post user's data to generate and activate account number*

Use this endpoint when user submit their data on activation process.

> Body parameter

```json
{
  "mfcID": "234",
  "nik": "6308044810820001",
  "phone": "08118289855",
  "dateOfBirth": "1988-10-02"
}
```

<h3 id="activateNewVospayNumber-parameters">Parameters</h3>

|Parameter|In|Type|Required|Description|
|---|---|---|---|---|
|Authorization|header|string|true|A generated JWT access token by `/authentication` endpoint|
|body|body|object|true|No description|
|» mfcID|body|string|true|MFC's ID that sent the activation link to user|
|» nik|body|string|true|User's KTP number / NIK (Country ID card)|
|» phone|body|string|true|User's phone number|
|» dateOfBirth|body|string|true|User's date of birth|

> Example responses

```json
{
  "vospayNumber": "2340010000000002",
  "isRegistered": false
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "data": {},
  "errors": {}
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "errors": {}
}
```

<h3 id="activateNewVospayNumber-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|201|[Created](https://tools.ietf.org/html/rfc7231#section-6.3.2)|OK response|Inline|
|401|[Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)|Response when access token is not provided as Authorization on request header|Inline|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|Response when Content-Type is not provided on request header or required request body is not provided|Inline|

<h3 id="activateNewVospayNumber-responseschema">Response Schema</h3>

Status Code **201**

|Name|Type|Required|Description|
|---|---|---|---|
|» vospayNumber|string|false|Auto generated vospay account number|
|» isRegistered|boolean|false|Flag whether the user who activates new Vospay account number is registered or not|

Status Code **401**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» data|object|false|No description|
|» errors|object|false|No description|

Status Code **500**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» errors|object|false|No description|

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
accessToken
</aside>

<h1 id="Vospay-API-Doc-Registration">Registration</h1>

## registerNewUser

<a id="opIdregisterNewUser"></a>

> Code samples

```nodejs
const request = require('node-fetch');
const inputBody = '{
  "vospayNumber": "2340010000000002",
  "email": "john@doe.com",
  "password": "abcd1234"
}';
const headers = {
  'Content-Type':'application/json',
  'Accept':'application/json',
  'Authorization':'JWT <<accessToken>>'

};

fetch('https://api-staging.vospay.id/api/v2/registration',
{
  method: 'PATCH',
  body: inputBody,
  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

`PATCH /registration`

*Post user's registration data*

Use this endpoint to send registrant data when register submit is clicked.

> Body parameter

```json
{
  "vospayNumber": "2340010000000002",
  "email": "john@doe.com",
  "password": "abcd1234"
}
```

<h3 id="registerNewUser-parameters">Parameters</h3>

|Parameter|In|Type|Required|Description|
|---|---|---|---|---|
|Authorization|header|string|true|A generated JWT access token by `/authentication` endpoint|
|body|body|any|true|No description|

> Example responses

```json
{
  "message": "Success"
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "data": {},
  "errors": {}
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "errors": {}
}
```

<h3 id="registerNewUser-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|Backend successfuly store registrant data to database|Inline|
|401|[Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)|Response when access token is not provided as Authorization on request header|Inline|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|Response when vospay account number is not provided or not found|Inline|

<h3 id="registerNewUser-responseschema">Response Schema</h3>

Status Code **200**

|Name|Type|Required|Description|
|---|---|---|---|
|» message|string|false|No description|

Status Code **401**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» data|object|false|No description|
|» errors|object|false|No description|

Status Code **404**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» errors|object|false|No description|

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
accessToken
</aside>

<h1 id="Vospay-API-Doc-Account">Account</h1>

## fetchAccountList

<a id="opIdfetchAccountList"></a>

> Code samples

```nodejs
const request = require('node-fetch');

const headers = {
  'Accept':'application/json',
  'Authorization':'JWT <<accessToken>>'

};

fetch('https://api-staging.vospay.id/api/v2/accounts',
{
  method: 'GET',

  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

`GET /accounts`

*Fetch all accounts*

This endpoint is for fetching all vospay accounts that certain user has.

<h3 id="fetchAccountList-parameters">Parameters</h3>

|Parameter|In|Type|Required|Description|
|---|---|---|---|---|
|Authorization|header|string|true|A generated JWT access token by `/authentication` endpoint|

> Example responses

```json
{
  "total": 4,
  "limit": 10,
  "skip": 0,
  "data": [
    {
      "vospayNumber": "2340010000000001",
      "multifinance": {
        "logo": "https://vospay.id/mpmLogo.png",
        "name": "MPM",
        "phone": "02155512345",
        "email": "cs-mpm@gmail.com"
      }
    },
    {
      "vospayNumber": "2340010000000002",
      "multifinance": {
        "logo": "https://vospay.id/mpmLogo.png",
        "name": "MPM",
        "phone": "02155512345",
        "email": "cs-mpm@gmail.com"
      }
    },
    {
      "vospayNumber": "2350010000000003",
      "multifinance": {
        "logo": "https://vospay.id/maybankLogo.png",
        "name": "Maybank",
        "phone": "02155554321",
        "email": "cs-maybank@gmail.com"
      }
    },
    {
      "vospayNumber": "2360010000000004",
      "multifinance": {
        "logo": "https://vospay.id/bankMegaLogo.png",
        "name": "Bank Mega",
        "phone": "02155512321",
        "email": "cs-mega@gmail.com"
      }
    }
  ]
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "data": {},
  "errors": {}
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "errors": {}
}
```

<h3 id="fetchAccountList-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|OK response|Inline|
|401|[Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)|Response when access token is not provided as Authorization on request header|Inline|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|Response when user ID is not found|Inline|

<h3 id="fetchAccountList-responseschema">Response Schema</h3>

Status Code **200**

|Name|Type|Required|Description|
|---|---|---|---|
|» total|number|false|Total accounts of certain user|
|» limit|number|false|Limit of accounts send by the backend to frontend (for pagination purpose)|
|» skip|number|false|Total accounts that skipped to not send by backend to frontend|
|» data|[object]|false|Array of vospay account numbers that one phone number had.|
|»» vospayNumber|string|false|Vospay account number|
|»» multifinance|object|false|No description|
|»»» logo|string(uri)|false|URL of multifinance logo|
|»»» name|string|false|Name of multifinance|
|»»» phone|string|false|Phone number of multifinance|
|»»» email|string(email)|false|Email of multifinance|

Status Code **401**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» data|object|false|No description|
|» errors|object|false|No description|

Status Code **404**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» errors|object|false|No description|

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
accessToken
</aside>

## fetchAccountListByPhone

<a id="opIdfetchAccountListByPhone"></a>

> Code samples

```nodejs
const request = require('node-fetch');

const headers = {
  'Accept':'application/json',
  'Authorization':'JWT <<accessToken>>'

};

fetch('https://api-staging.vospay.id/api/v2/accounts?phone={phone}?phone=08118289855?phone=08118289855',
{
  method: 'GET',

  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

`GET /accounts?phone={phone}`

*Fetch all accounts using phone number*

This endpoint is for fetching all vospay accounts that certain phone number has.

<h3 id="fetchAccountListByPhone-parameters">Parameters</h3>

|Parameter|In|Type|Required|Description|
|---|---|---|---|---|
|phone|query|string|true|User's phone number|
|Authorization|header|string|true|A generated JWT access token by `/authentication` endpoint|

> Example responses

```json
{
  "total": 2,
  "limit": 10,
  "skip": 0,
  "data": [
    {
      "vospayNumber": "2340010000000001",
      "multifinance": {
        "logo": "https://vospay.id/mpmLogo.png",
        "name": "MPM",
        "phone": "02155512345",
        "email": "cs-mpm@gmail.com"
      }
    },
    {
      "vospayNumber": "2340010000000002",
      "multifinance": {
        "logo": "https://vospay.id/mpmLogo.png",
        "name": "MPM",
        "phone": "02155512345",
        "email": "cs-mpm@gmail.com"
      }
    }
  ]
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "data": {},
  "errors": {}
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "errors": {}
}
```

<h3 id="fetchAccountListByPhone-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|OK response|Inline|
|401|[Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)|Response when access token is not provided as Authorization on request header|Inline|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|Response when vospay account number is not found|Inline|

<h3 id="fetchAccountListByPhone-responseschema">Response Schema</h3>

Status Code **200**

|Name|Type|Required|Description|
|---|---|---|---|
|» total|number|false|Total accounts of certain phone number|
|» limit|number|false|Limit of accounts send by the backend to frontend (for pagination purpose)|
|» skip|number|false|Total accounts that skipped to not send by backend to frontend|
|» data|[object]|false|Array of vospay account numbers that one phone number had.|
|»» vospayNumber|string|false|Vospay account number|
|»» multifinance|object|false|No description|
|»»» logo|string(uri)|false|URL of multifinance logo|
|»»» name|string|false|Name of multifinance|
|»»» phone|string|false|Phone number of multifinance|
|»»» email|string(email)|false|Email of multifinance|

Status Code **401**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» data|object|false|No description|
|» errors|object|false|No description|

Status Code **404**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» errors|object|false|No description|

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
accessToken
</aside>

<h1 id="Vospay-API-Doc-Transaction">Transaction</h1>

## fetchInstallmentPlans

<a id="opIdfetchInstallmentPlans"></a>

> Code samples

```nodejs
const request = require('node-fetch');

const headers = {
  'Accept':'application/json',
  'Authorization':'JWT <<accessToken>>'

};

fetch('https://api-staging.vospay.id/api/v2/checkout/{vospayNumber}?merchantID={merchantID}&totalAmount={totalAmount}?merchantID=1&totalAmount=100000?merchantID=1&totalAmount=100000',
{
  method: 'GET',

  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

`GET /checkout/{vospayNumber}?merchantID={merchantID}&totalAmount={totalAmount}`

*Fetch installment plans given by the multifinance*

<h3 id="fetchInstallmentPlans-parameters">Parameters</h3>

|Parameter|In|Type|Required|Description|
|---|---|---|---|---|
|vospayNumber|path|string|true|User's selected vospay number|
|merchantID|query|string|true|Get merchantID from endpoint `/merchants`|
|totalAmount|query|number|true|Total amount of purchase including shipping and additional cost|
|Authorization|header|string|true|A generated JWT access token by `/authentication` endpoint|

> Example responses

```json
{
  "merchantLogo": "https://vospay.id/merchantLogo.png",
  "mfcLogo": "https://vospay.id/mfcLogo.png",
  "fullName": "Dominggus Sirius Octovianus",
  "installments": [
    {
      "installmentID": "1",
      "period": 3,
      "monthlyPayment": 58333
    },
    {
      "installmentID": "2",
      "period": 6,
      "monthlyPayment": 27083
    },
    {
      "installmentID": "3",
      "period": 9,
      "monthlyPayment": 16667
    },
    {
      "installmentID": "4",
      "period": 12,
      "monthlyPayment": 11458
    }
  ]
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "data": {},
  "errors": {}
}
```

<h3 id="fetchInstallmentPlans-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|OK response|Inline|
|401|[Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)|Response when access token is not provided as Authorization on request header|Inline|

<h3 id="fetchInstallmentPlans-responseschema">Response Schema</h3>

Status Code **200**

|Name|Type|Required|Description|
|---|---|---|---|
|» merchantLogo|string(uri)|false|No description|
|» mfcLogo|string(uri)|false|No description|
|» fullName|string|false|No description|
|» installments|[object]|false|No description|
|»» installmentID|string|false|No description|
|»» period|number|false|No description|
|»» monthlyPayment|number|false|No description|

Status Code **401**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» data|object|false|No description|
|» errors|object|false|No description|

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
accessToken
</aside>

## finalizeTransaction

<a id="opIdfinalizeTransaction"></a>

> Code samples

```nodejs
const request = require('node-fetch');
const inputBody = '{
  "notifyEndpoint": "https://merchant.com/notify",
  "vospayNumber": "2340010000000001",
  "merchantID": 1,
  "orderID": "B0001",
  "items": [
    {
      "name": "Product A",
      "quantity": 2,
      "price": 10000
    },
    {
      "name": "Product B",
      "quantity": 1,
      "price": 5000
    }
  ],
  "shippingCost": 5000,
  "insuranceCost": 1000,
  "processingFee": 2500,
  "tax": 0,
  "installmentID": 1
}';
const headers = {
  'Content-Type':'application/json',
  'Accept':'application/json',
  'Authorization':'JWT <<accessToken>>'

};

fetch('https://api-staging.vospay.id/api/v2/checkout',
{
  method: 'POST',
  body: inputBody,
  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

`POST /checkout`

*Post transaction data*

Use this endpoint to send transaction detail on submit a checkout

> Body parameter

```json
{
  "notifyEndpoint": "https://merchant.com/notify",
  "vospayNumber": "2340010000000001",
  "merchantID": 1,
  "orderID": "B0001",
  "items": [
    {
      "name": "Product A",
      "quantity": 2,
      "price": 10000
    },
    {
      "name": "Product B",
      "quantity": 1,
      "price": 5000
    }
  ],
  "shippingCost": 5000,
  "insuranceCost": 1000,
  "processingFee": 2500,
  "tax": 0,
  "installmentID": 1
}
```

<h3 id="finalizeTransaction-parameters">Parameters</h3>

|Parameter|In|Type|Required|Description|
|---|---|---|---|---|
|Authorization|header|string|true|A generated JWT access token by `/authentication` endpoint|
|body|body|object|true|No description|
|» notifyEndpoint|body|string(uri)|false|Merchant's endpoint to be accessed by backend after transaction finalized|
|» vospayNumber|body|string|true|Vospay account number that used for transaction|
|» merchantID|body|string|true|Merchant ID where transaction happens|
|» orderID|body|string|true|Order ID from the merchant|
|» items|body|[object]|true|List of purchased items|
|»» name|body|string|false|Name of purchased item|
|»» quantity|body|string|false|Quantity of purchased item|
|»» price|body|number|false|Total price of purchased item|
|» shippingCost|body|number|true|Shipping cost from transaction|
|» insuranceCost|body|number|false|Insurance cost from transaction|
|» processingFee|body|number|false|Additional fees from transaction (if there is)|
|» tax|body|number|false|Tax or custom fee (e.g bea cukai) (if there is)|
|» installmentID|body|string|true|ID of selected installment plan for the transaction|

> Example responses

```json
{
  "message": "Success"
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "data": {},
  "errors": {}
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "data": {},
  "errors": {}
}
```

<h3 id="finalizeTransaction-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|OK response|Inline|
|401|[Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)|Response when access token is not provided as Authorization on request header|Inline|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|Response when Content-Type is not provided on request header or required request body not provided|Inline|

<h3 id="finalizeTransaction-responseschema">Response Schema</h3>

Status Code **200**

|Name|Type|Required|Description|
|---|---|---|---|
|» message|string|false|No description|

Status Code **401**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» data|object|false|No description|
|» errors|object|false|No description|

Status Code **500**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» data|object|false|No description|
|» errors|object|false|No description|

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
accessToken
</aside>

## verifyTransaction

<a id="opIdverifyTransaction"></a>

> Code samples

```nodejs
const request = require('node-fetch');
const inputBody = '{
  "transactionID": "12ux0912examplej309128js01",
  "orderID": "01441-EXAMPLE-7615",
  "currency": "IDR",
  "grossAmount": 49500
}';
const headers = {
  'Content-Type':'application/json',
  'Accept':'application/json'

};

fetch('https://api-staging.vospay.id/api/v2/verify-transaction',
{
  method: 'POST',
  body: inputBody,
  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

`POST /verify-transaction`

*Verify transaction ID and order details*

Use this endpoint verify the transaction ID and order details with VOSPAY to ensure the integrity of the result received by the JavaScript callback

> Body parameter

```json
{
  "transactionID": "12ux0912examplej309128js01",
  "orderID": "01441-EXAMPLE-7615",
  "currency": "IDR",
  "grossAmount": 49500
}
```

<h3 id="verifyTransaction-parameters">Parameters</h3>

|Parameter|In|Type|Required|Description|
|---|---|---|---|---|
|body|body|object|true|No description|
|» transactionID|body|string|true|This is obtained from the TransactionResult|
|» orderID|body|string|true|A unique (per merchant) identifier for this order|
|» currency|body|string|true|Used currency for the transaction|
|» grossAmount|body|number|true|The total amount of the order|

> Example responses

```json
{
  "status": "Valid",
  "timestamp": "2018-04-25T07:35:16.891Z"
}
```

```json
{
  "status": "Invalid"
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "errors": {}
}
```

<h3 id="verifyTransaction-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|OK response|Inline|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|Response when transaction is not found|Inline|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|Response when Content-Type is not provided on request header or required request body is not provided|Inline|

<h3 id="verifyTransaction-responseschema">Response Schema</h3>

Status Code **200**

|Name|Type|Required|Description|
|---|---|---|---|
|» status|string|false|Status of the transaction|
|» timestamp|string|false|The date and time the transaction was processed in ISO 8601 format. This will not be present if the status is not Valid.|

Status Code **404**

|Name|Type|Required|Description|
|---|---|---|---|
|» status|string|false|No description|

Status Code **500**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» errors|object|false|No description|

<aside class="success">
This operation does not require authentication
</aside>

<h1 id="Vospay-API-Doc-Merchant">Merchant</h1>

## fetchMerchantList

<a id="opIdfetchMerchantList"></a>

> Code samples

```nodejs
const request = require('node-fetch');

const headers = {
  'Accept':'application/json',
  'Authorization':'JWT <<accessToken>>'

};

fetch('https://api-staging.vospay.id/api/v2/merchants',
{
  method: 'GET',

  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

`GET /merchants`

*Fetch all merchants*

This endpoint is for fetching all merchants.

<h3 id="fetchMerchantList-parameters">Parameters</h3>

|Parameter|In|Type|Required|Description|
|---|---|---|---|---|
|Authorization|header|string|true|A generated JWT access token by `/authentication` endpoint|

> Example responses

```json
{
  "total": "3,",
  "limit": "10,",
  "skip": "0,",
  "data": [
    {
      "_id": "5ae2a756bfa800e3265ad82f",
      "name": "Bukalapak",
      "icon": "https://vospay.id/bukalapak-icon.png",
      "logo": "https://vospay.id/bukalapak-logo.png",
      "merchantKey": "bukalapak123",
      "secretKey": "bukalapak789",
      "__v": 0
    },
    {
      "_id": "5ae2a756bfa800e3265ad831,",
      "name": "Sociolla,",
      "icon": "https://vospay.id/sociolla-icon.png,",
      "logo": "https://vospay.id/sociolla-logo.png,",
      "merchantKey": "sociolla123,",
      "secretKey": "sociolla789,",
      "__v": 0
    },
    {
      "_id": "5ae2a756bfa800e3265ad830,",
      "name": "Tokopedia,",
      "icon": "https://vospay.id/tokopedia-icon.png,",
      "logo": "https://vospay.id/tokopedia-logo.png,",
      "merchantKey": "tokopedia123,",
      "secretKey": "tokopedia789,",
      "__v": 0
    }
  ]
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "data": {},
  "errors": {}
}
```

<h3 id="fetchMerchantList-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|OK response|Inline|
|401|[Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)|Response when access token is not provided as Authorization on request header|Inline|

<h3 id="fetchMerchantList-responseschema">Response Schema</h3>

Status Code **200**

|Name|Type|Required|Description|
|---|---|---|---|
|» total|number|false|Total merchants|
|» limit|number|false|Limit of merchants send by the backend to frontend (for pagination purpose)|
|» skip|number|false|Total merchants that skipped to not send by backend to frontend|
|» data|[object]|false|Array of merchants.|
|»» _id|string|false|Merchant ID|
|»» name|string|false|Merchant Name|
|»» icon|string(uri)|false|Merchant Icon URL|
|»» logo|string(uri)|false|Merchant Logo URL|
|»» merchantKey|string|false|Merchant Key|
|»» secretKey|string|false|Merchant Secret Key|
|»» __v|number|false|No description|

Status Code **401**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» data|object|false|No description|
|» errors|object|false|No description|

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
accessToken
</aside>

## fetchMerchantListByMerchantKey

<a id="opIdfetchMerchantListByMerchantKey"></a>

> Code samples

```nodejs
const request = require('node-fetch');

const headers = {
  'Accept':'application/json',
  'Authorization':'JWT <<accessToken>>'

};

fetch('https://api-staging.vospay.id/api/v2/merchants?merchantKey={merchantKey}?merchantKey=bukalapak123',
{
  method: 'GET',

  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

`GET /merchants?merchantKey={merchantKey}`

*Fetch merchant by merchant key*

This endpoint is for fetching merchant by merchant key.

<h3 id="fetchMerchantListByMerchantKey-parameters">Parameters</h3>

|Parameter|In|Type|Required|Description|
|---|---|---|---|---|
|merchantKey|query|string|false|A key assigned to merchant|
|Authorization|header|string|true|A generated JWT access token by `/authentication` endpoint|

> Example responses

```json
{
  "total": "1,",
  "limit": "10,",
  "skip": "0,",
  "data": [
    {
      "_id": "5ae2a756bfa800e3265ad82f",
      "name": "Bukalapak",
      "icon": "https://vospay.id/bukalapak-icon.png",
      "logo": "https://vospay.id/bukalapak-logo.png",
      "merchantKey": "bukalapak123",
      "secretKey": "bukalapak789",
      "__v": 0
    }
  ]
}
```

```json
{
  "name": "string",
  "message": "string",
  "code": 0,
  "className": "string",
  "data": {},
  "errors": {}
}
```

<h3 id="fetchMerchantListByMerchantKey-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|OK response|Inline|
|401|[Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)|Response when access token is not provided as Authorization on request header|Inline|

<h3 id="fetchMerchantListByMerchantKey-responseschema">Response Schema</h3>

Status Code **200**

|Name|Type|Required|Description|
|---|---|---|---|
|» total|number|false|Total merchants|
|» limit|number|false|Limit of merchants send by the backend to frontend (for pagination purpose)|
|» skip|number|false|Total merchants that skipped to not send by backend to frontend|
|» data|[object]|false|Array of merchants.|
|»» _id|string|false|Merchant ID|
|»» name|string|false|Merchant Name|
|»» icon|string(uri)|false|Merchant Icon URL|
|»» logo|string(uri)|false|Merchant Logo URL|
|»» merchantKey|string|false|Merchant Key|
|»» secretKey|string|false|Merchant Secret Key|
|»» __v|number|false|No description|

Status Code **401**

|Name|Type|Required|Description|
|---|---|---|---|
|» name|string|false|No description|
|» message|string|false|No description|
|» code|number|false|No description|
|» className|string|false|No description|
|» data|object|false|No description|
|» errors|object|false|No description|

<aside class="warning">
To perform this operation, you must be authenticated by means of one of the following methods:
accessToken
</aside>

# Schemas

<h2 id="tocSauthotp">AuthOTP</h2>

<a id="schemaauthotp"></a>

```json
{
  "strategy": "otp",
  "phone": "08118289855",
  "code": "1234"
}
```

### Properties

|Name|Type|Required|Description|
|---|---|---|---|
|strategy|string|true|No description|
|phone|string|true|No description|
|code|string|false|No description|

<h2 id="tocSauthloginemail">AuthLoginEmail</h2>

<a id="schemaauthloginemail"></a>

```json
{
  "strategy": "email",
  "email": "john@doe.com",
  "password": "abcd1234"
}
```

### Properties

|Name|Type|Required|Description|
|---|---|---|---|
|strategy|string|true|No description|
|email|string|true|No description|
|password|string|true|No description|

<h2 id="tocSauthloginphone">AuthLoginPhone</h2>

<a id="schemaauthloginphone"></a>

```json
{
  "strategy": "phone",
  "phone": "08118289855",
  "password": "abcd1234"
}
```

### Properties

|Name|Type|Required|Description|
|---|---|---|---|
|strategy|string|true|No description|
|phone|string|true|No description|
|password|string|true|No description|

<h2 id="tocSregister">Register</h2>

<a id="schemaregister"></a>

```json
{
  "vospayNumber": "2340010000000002",
  "email": "john@doe.com",
  "password": "abcd1234"
}
```

### Properties

|Name|Type|Required|Description|
|---|---|---|---|
|vospayNumber|string|true|Registrant vospay account number|
|email|string(email)|false|Registrant email|
|password|string|true|Registrant access code|

<h2 id="tocSregisterfb">RegisterFB</h2>

<a id="schemaregisterfb"></a>

```json
{
  "vospayNumber": "2340010000000002",
  "facebookAccount": "john@doe.com"
}
```

### Properties

|Name|Type|Required|Description|
|---|---|---|---|
|vospayNumber|string|true|Registrant vospay account number|
|facebookAccount|string(email)|true|Registrant facebook email if registrant registering with facebook account|

